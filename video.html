<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Video Window</title>
    <style>
      #my-video{
        display: block;
        margin-left: auto;
        margin-right: auto;
        transform: translateY(30%);
        width: 1280;
        height: 720;
        /*-webkit-app-region: drag;*/
        z-index: 5;
      }

      html, body {
        background: rgba(0, 0, 0, 0.5);
        height: 99%;
      }
    </style>
  </head>
  <body>
    <!--<button id="close">Click Me</button>-->
    <video id="my-video" autoplay src="DanceVideo.mp4" type="video/mp4">
    </video>

    <script>
      //used to send messages
      var ipcRenderer = require('electron').ipcRenderer

      //when video.html recieves 'reset' fromt the main process
      //it will restart the video and send a message that the
      //video is ready to open back to the main process
      var video = document.getElementById('my-video');
      video.addEventListener('ended', function() {
        ipcRenderer.send('close-child')
      })

      ipcRenderer.on('reset', function() {
        var vid = document.getElementById('my-video');
        vid.currentTime = 0;
        ipcRenderer.send('open-child')
        vid.play()
      });

      //used to close the window based on a click no matter
      //where the click is at
      var vidBtn = document.getElementsByTagName('body')[0]
      vidBtn.addEventListener('click', function() {
        ipcRenderer.send('close-child')
      })
    </script>
  </body>
</html>
